@startuml
title Activity Diagram

start
:Receive order;
if (Item in stock?) then (yes)
  :Reserve inventory;
else (no)
  :Create backorder;
  :Notify customer;
endif

:Calculate totals;
:Request payment authorization;
if (Authorized?) then (yes)
  :Pack items;
  :Generate shipping label;
  :Dispatch shipment;
  :Send confirmation email;
else (no)
  :Cancel reservation;
  :Notify payment failure;
endif
stop

@enduml
